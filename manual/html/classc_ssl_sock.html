<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=Shift_JIS">
<title>cSock: クラス cSslSock</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- 作成： Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>メインページ</span></a></li>
    <li id="current"><a href="annotated.html"><span>クラス</span></a></li>
    <li><a href="files.html"><span>ファイル</span></a></li>
    <li><a href="pages.html"><span>関連ページ</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>構成</span></a></li>
    <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
    <li><a href="functions.html"><span>構成メンバ</span></a></li>
  </ul></div>
<h1>クラス cSslSock</h1><!-- doxytag: class="cSslSock" --><!-- doxytag: inherits="cTcpSock" -->SSLソケットクラス  
<a href="#_details">[詳細]</a>
<p>
<code>#include &lt;cSslSock.h&gt;</code>
<p>
<a class="el" href="classc_tcp_sock.html">cTcpSock</a>を継承しています。
<p>
<a href="classc_ssl_sock-members.html">すべてのメンバ一覧</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#e4fd5c72ab171ba6e9985dcf723f0830">cSslSock</a> (SSL_CTX *=NULL)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">コンストラクタ  <a href="#e4fd5c72ab171ba6e9985dcf723f0830"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#a37d1db89b0a9040c4445af1cc79071c">~cSslSock</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">デストラクタ  <a href="#a37d1db89b0a9040c4445af1cc79071c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">LPCSTR&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#d7c2ae3e8cebf2f7b03598a512973852">GetSSLCipher</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">利用している暗号化方式を取得します。  <a href="#d7c2ae3e8cebf2f7b03598a512973852"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#c3a1f09ea857984cb2013fe5c895abd1">SetSSLCiphers</a> (LPCSTR)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">利用する暗号化方式を設定します。  <a href="#c3a1f09ea857984cb2013fe5c895abd1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#5059c15e419795c255bbfec24e22249e">GetSSLBits</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">利用している暗号化方式のビット数を取得します。  <a href="#5059c15e419795c255bbfec24e22249e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">LPCSTR&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#00a15a268f1d012e735c2365a5f91200">GetSSLVerion</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">利用しているSSLのバージョンを取得します。  <a href="#00a15a268f1d012e735c2365a5f91200"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#ef2be78f40dcb592b63230a729264085">SetCert</a> (LPCSTR, LPCSTR)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">クライアント証明書/秘密鍵を設定します。  <a href="#ef2be78f40dcb592b63230a729264085"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#77c95e722b3a9b2e403179c0b4c1ab22">SetCaCert</a> (LPCSTR)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">CA証明書を設定します。  <a href="#77c95e722b3a9b2e403179c0b4c1ab22"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#ae444d7b54b03cb830b62ba1b1f96daa">Connect</a> (LPCSTR, USHORT, HWND, USHORT)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">サーバに対してコネクションの確率要求を行います。  <a href="#ae444d7b54b03cb830b62ba1b1f96daa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#51d724073dde3d6138d8d7afa7a7fece">Disconnect</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">確立済みのコネクションを切断します。  <a href="#51d724073dde3d6138d8d7afa7a7fece"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#7a3bc5cef9d6d22fef0dc770abfa3238">SendData</a> (LPVOID, DWORD)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">データの送信を行います。  <a href="#7a3bc5cef9d6d22fef0dc770abfa3238"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#7a2366e9bf34cda975043aebf2e3591d">RecvData</a> (LPVOID, DWORD, DWORD *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">指定されたバイト数データの受信を行います。  <a href="#7a2366e9bf34cda975043aebf2e3591d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#d6434f9c760c73f225df77043f411c88">RecvDataOnce</a> (LPVOID, DWORD, DWORD *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">受信できるだけデータの受信を行います。  <a href="#d6434f9c760c73f225df77043f411c88"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">LPCSTR&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#cc1dbc4fb9bfeb1134d0bad7e7e3f42f">Verify_SSL</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">証明書の検証を行います。  <a href="#cc1dbc4fb9bfeb1134d0bad7e7e3f42f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#3c10c212ac0e8caf0881419f5b0a2792">GetPeerCert</a> (<a class="el" href="structtag_certficate.html">_Certificate</a> *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">接続先ホストの証明書を取得します。  <a href="#3c10c212ac0e8caf0881419f5b0a2792"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#21f8ef9e0b33fd0e6ce66106661f283b">DestroyCertInfo</a> (<a class="el" href="structtag_certficate.html">_Certificate</a> *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">証明書の破棄を行います。  <a href="#21f8ef9e0b33fd0e6ce66106661f283b"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">SSL_CTX *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#ecb8a866018f99cb95096d99011993bd">m_CTX</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">CTX構造体  <a href="#ecb8a866018f99cb95096d99011993bd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">SSL *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#c2e137966b22461baa4876a3bd59ae11">m_SSL</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">SSL構造体  <a href="#c2e137966b22461baa4876a3bd59ae11"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private メソッド</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#c14e9ff5384783fac055d91534c9cf08">_PushCertificate</a> (<a class="el" href="structtag_x509_info.html">_X509Info</a> *, LPCSTR)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">証明書の格納を行います。  <a href="#c14e9ff5384783fac055d91534c9cf08"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#1dec39e80f6811bfd18c7d37b35f2121">_PushCertificate_</a> (<a class="el" href="structtag_x509_info.html">_X509Info</a> *, LPCSTR)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">証明書の格納を行います。  <a href="#1dec39e80f6811bfd18c7d37b35f2121"></a><br></td></tr>
<tr><td colspan="2"><br><h2>フレンド</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classc_ssl_sock.html#5ea6116f95e28807a8ab0ada5b57ea7d">cSslServerSock</a></td></tr>

</table>
<hr><a name="_details"></a><h2>説明</h2>
SSLソケットクラス 
<p>
SSL通信を実装しているクラスです。 
<p>
<hr><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" name="e4fd5c72ab171ba6e9985dcf723f0830"></a><!-- doxytag: member="cSslSock::cSslSock" ref="e4fd5c72ab171ba6e9985dcf723f0830" args="(SSL_CTX *=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cSslSock::cSslSock           </td>
          <td>(</td>
          <td class="paramtype">SSL_CTX *&nbsp;</td>
          <td class="paramname"> <em>CTX</em> = <code>NULL</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
コンストラクタ 
<p>
クラスの初期化を行います。 OpenSSLの初期化やCTX構造体の初期化もコンストラクタで行っています。 <dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>CTX</em>&nbsp;</td><td>利用するCTX構造体のポインタ(既存のCTX構造体を利用する場合) </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="a37d1db89b0a9040c4445af1cc79071c"></a><!-- doxytag: member="cSslSock::~cSslSock" ref="a37d1db89b0a9040c4445af1cc79071c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cSslSock::~cSslSock           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
デストラクタ 
<p>
クラスの解放を行います。 
</div>
</div><p>
<hr><h2>関数</h2>
<a class="anchor" name="d7c2ae3e8cebf2f7b03598a512973852"></a><!-- doxytag: member="cSslSock::GetSSLCipher" ref="d7c2ae3e8cebf2f7b03598a512973852" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPCSTR cSslSock::GetSSLCipher           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
利用している暗号化方式を取得します。 
<p>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>利用している暗号化方式 </dd></dl>

</div>
</div><p>
<a class="anchor" name="c3a1f09ea857984cb2013fe5c895abd1"></a><!-- doxytag: member="cSslSock::SetSSLCiphers" ref="c3a1f09ea857984cb2013fe5c895abd1" args="(LPCSTR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cSslSock::SetSSLCiphers           </td>
          <td>(</td>
          <td class="paramtype">LPCSTR&nbsp;</td>
          <td class="paramname"> <em>szCiphers</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
利用する暗号化方式を設定します。 
<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>szCiphers</em>&nbsp;</td><td>利用する暗号化方式 </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>成功したときはTRUEを返す。 失敗したときはFALSEを返す。 </dd></dl>

</div>
</div><p>
<a class="anchor" name="5059c15e419795c255bbfec24e22249e"></a><!-- doxytag: member="cSslSock::GetSSLBits" ref="5059c15e419795c255bbfec24e22249e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cSslSock::GetSSLBits           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
利用している暗号化方式のビット数を取得します。 
<p>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>利用している暗号化方式のビットビット数 </dd></dl>

</div>
</div><p>
<a class="anchor" name="00a15a268f1d012e735c2365a5f91200"></a><!-- doxytag: member="cSslSock::GetSSLVerion" ref="00a15a268f1d012e735c2365a5f91200" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPCSTR cSslSock::GetSSLVerion           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
利用しているSSLのバージョンを取得します。 
<p>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>利用しているSSLのバージョン </dd></dl>

</div>
</div><p>
<a class="anchor" name="ef2be78f40dcb592b63230a729264085"></a><!-- doxytag: member="cSslSock::SetCert" ref="ef2be78f40dcb592b63230a729264085" args="(LPCSTR, LPCSTR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cSslSock::SetCert           </td>
          <td>(</td>
          <td class="paramtype">LPCSTR&nbsp;</td>
          <td class="paramname"> <em>szCert</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPCSTR&nbsp;</td>
          <td class="paramname"> <em>szKey</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
クライアント証明書/秘密鍵を設定します。 
<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>szCert</em>&nbsp;</td><td>証明書のパス </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>szKey</em>&nbsp;</td><td>証明書に対する秘密鍵のパス </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>成功したときはTRUEを返す。 失敗したときはFALSEを返す。</dd></dl>
<dl compact><dt><b><a class="el" href="bug.html#_bug000001">バグ:</a></b></dt><dd>秘密鍵にパスフレーズが付加されている場合に、処理が止まる </dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000001">TODO:</a></b></dt><dd>秘密鍵にパスフレーズが付加されていても利用できるようにする。 </dd></dl>

</div>
</div><p>
<a class="anchor" name="77c95e722b3a9b2e403179c0b4c1ab22"></a><!-- doxytag: member="cSslSock::SetCaCert" ref="77c95e722b3a9b2e403179c0b4c1ab22" args="(LPCSTR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cSslSock::SetCaCert           </td>
          <td>(</td>
          <td class="paramtype">LPCSTR&nbsp;</td>
          <td class="paramname"> <em>szCaCert</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
CA証明書を設定します。 
<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>szCaCert</em>&nbsp;</td><td>証明書のパス </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>成功したときはTRUEを返す。 失敗したときはFALSEを返す。 </dd></dl>

</div>
</div><p>
<a class="anchor" name="ae444d7b54b03cb830b62ba1b1f96daa"></a><!-- doxytag: member="cSslSock::Connect" ref="ae444d7b54b03cb830b62ba1b1f96daa" args="(LPCSTR, USHORT, HWND, USHORT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cSslSock::Connect           </td>
          <td>(</td>
          <td class="paramtype">LPCSTR&nbsp;</td>
          <td class="paramname"> <em>szHost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">USHORT&nbsp;</td>
          <td class="paramname"> <em>nPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HWND&nbsp;</td>
          <td class="paramname"> <em>hWnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">USHORT&nbsp;</td>
          <td class="paramname"> <em>nEventNo</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
サーバに対してコネクションの確率要求を行います。 
<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>szHost</em>&nbsp;</td><td>接続先ホストのホスト名またはIPアドレス </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>nPort</em>&nbsp;</td><td>接続先ホストのポート番号 </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hWnd</em>&nbsp;</td><td>非同期モードで利用する場合は、通知先のウィンドウハンドル<br>
 同期モードで利用する場合はNULL </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>nEventNo</em>&nbsp;</td><td>非同期モードで利用する場合は、通知するメッセージID<br>
 同期モードで利用する場合はNULL </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>成功したときはTRUEを返す。 失敗したときはFALSEを返す。 </dd></dl>

<p>
<a class="el" href="classc_tcp_sock.html#be73db725324e8e0a188d88fdfdb9669">cTcpSock</a>を再定義しています。
</div>
</div><p>
<a class="anchor" name="51d724073dde3d6138d8d7afa7a7fece"></a><!-- doxytag: member="cSslSock::Disconnect" ref="51d724073dde3d6138d8d7afa7a7fece" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cSslSock::Disconnect           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
確立済みのコネクションを切断します。 
<p>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>成功したときはTRUEを返す。 失敗したときはFALSEを返す。</dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000002">TODO:</a></b></dt><dd>接続されていない場合の処理がない。<br>
 cTcpSockにはある </dd></dl>

<p>
<a class="el" href="classc_tcp_sock.html#0a30e9e72f88c9085046bbaa35391f10">cTcpSock</a>を再定義しています。
</div>
</div><p>
<a class="anchor" name="7a3bc5cef9d6d22fef0dc770abfa3238"></a><!-- doxytag: member="cSslSock::SendData" ref="7a3bc5cef9d6d22fef0dc770abfa3238" args="(LPVOID, DWORD)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cSslSock::SendData           </td>
          <td>(</td>
          <td class="paramtype">LPVOID&nbsp;</td>
          <td class="paramname"> <em>lpData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&nbsp;</td>
          <td class="paramname"> <em>dwBytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
データの送信を行います。 
<p>
指定されたバイト数、送信するまで処理はブロッキングされます。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lpData</em>&nbsp;</td><td>送信するデータの先頭ポインタ </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dwBytes</em>&nbsp;</td><td>送信するデータのバイト数 </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>成功したときはTRUEを返す。 失敗したときはFALSEを返す。 </dd></dl>

<p>
<a class="el" href="classc_tcp_sock.html#bbfc2daa2ae4634744bef531cd668c10">cTcpSock</a>を再定義しています。
</div>
</div><p>
<a class="anchor" name="7a2366e9bf34cda975043aebf2e3591d"></a><!-- doxytag: member="cSslSock::RecvData" ref="7a2366e9bf34cda975043aebf2e3591d" args="(LPVOID, DWORD, DWORD *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cSslSock::RecvData           </td>
          <td>(</td>
          <td class="paramtype">LPVOID&nbsp;</td>
          <td class="paramname"> <em>lpBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&nbsp;</td>
          <td class="paramname"> <em>dwBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD *&nbsp;</td>
          <td class="paramname"> <em>pdwRecvLen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
指定されたバイト数データの受信を行います。 
<p>
指定されたバイト数、受信するまで処理はブロッキングされます。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lpBuffer</em>&nbsp;</td><td>受信したデータを格納する先頭ポインタ </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dwBytes</em>&nbsp;</td><td>格納先のバイト数 </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>pdwRecvLen</em>&nbsp;</td><td>実際に受信したバイト数 </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>成功したときはTRUEを返す。 失敗したときはFALSEを返す。 </dd></dl>

<p>
<a class="el" href="classc_tcp_sock.html#a78961e4bbc9d6c75ff423ecef69d3f6">cTcpSock</a>を再定義しています。
</div>
</div><p>
<a class="anchor" name="d6434f9c760c73f225df77043f411c88"></a><!-- doxytag: member="cSslSock::RecvDataOnce" ref="d6434f9c760c73f225df77043f411c88" args="(LPVOID, DWORD, DWORD *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cSslSock::RecvDataOnce           </td>
          <td>(</td>
          <td class="paramtype">LPVOID&nbsp;</td>
          <td class="paramname"> <em>lpBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&nbsp;</td>
          <td class="paramname"> <em>dwBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD *&nbsp;</td>
          <td class="paramname"> <em>pdwRecvLen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
受信できるだけデータの受信を行います。 
<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lpBuffer</em>&nbsp;</td><td>受信したデータを格納する先頭ポインタ </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dwBytes</em>&nbsp;</td><td>格納先のバイト数 </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>pdwRecvLen</em>&nbsp;</td><td>実際に受信したバイト数 </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>成功したときはTRUEを返す。 失敗したときはFALSEを返す。 </dd></dl>

<p>
<a class="el" href="classc_tcp_sock.html#6af52dd229724caf5c594d29dca06a56">cTcpSock</a>を再定義しています。
</div>
</div><p>
<a class="anchor" name="cc1dbc4fb9bfeb1134d0bad7e7e3f42f"></a><!-- doxytag: member="cSslSock::Verify_SSL" ref="cc1dbc4fb9bfeb1134d0bad7e7e3f42f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPCSTR cSslSock::Verify_SSL           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
証明書の検証を行います。 
<p>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>検証結果を返します。</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="3c10c212ac0e8caf0881419f5b0a2792"></a><!-- doxytag: member="cSslSock::GetPeerCert" ref="3c10c212ac0e8caf0881419f5b0a2792" args="(_Certificate *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cSslSock::GetPeerCert           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtag_certficate.html">_Certificate</a> *&nbsp;</td>
          <td class="paramname"> <em>pCertificate</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
接続先ホストの証明書を取得します。 
<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pCertificate</em>&nbsp;</td><td>_Certificate構造体のポインタ </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>成功したときはTRUEを返す。 失敗したときはFALSEを返す。 </dd></dl>

</div>
</div><p>
<a class="anchor" name="21f8ef9e0b33fd0e6ce66106661f283b"></a><!-- doxytag: member="cSslSock::DestroyCertInfo" ref="21f8ef9e0b33fd0e6ce66106661f283b" args="(_Certificate *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cSslSock::DestroyCertInfo           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtag_certficate.html">_Certificate</a> *&nbsp;</td>
          <td class="paramname"> <em>pCertificate</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
証明書の破棄を行います。 
<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pCertificate</em>&nbsp;</td><td>_Certificate構造体のポインタ </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c14e9ff5384783fac055d91534c9cf08"></a><!-- doxytag: member="cSslSock::_PushCertificate" ref="c14e9ff5384783fac055d91534c9cf08" args="(_X509Info *, LPCSTR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cSslSock::_PushCertificate           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtag_x509_info.html">_X509Info</a> *&nbsp;</td>
          <td class="paramname"> <em>pX509Info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPCSTR&nbsp;</td>
          <td class="paramname"> <em>szData</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
証明書の格納を行います。 
<p>
X509_NAME_onelineで取得した情報を構造体に格納します。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pX509Info</em>&nbsp;</td><td>_X509Info構造体のポインタ </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>szData</em>&nbsp;</td><td>X509_NAME_onelineで取得した文字列</td></tr>
  </table>
</dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000003">TODO:</a></b></dt><dd>メソッドの実装が曖昧 </dd></dl>

</div>
</div><p>
<a class="anchor" name="1dec39e80f6811bfd18c7d37b35f2121"></a><!-- doxytag: member="cSslSock::_PushCertificate_" ref="1dec39e80f6811bfd18c7d37b35f2121" args="(_X509Info *, LPCSTR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cSslSock::_PushCertificate_           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtag_x509_info.html">_X509Info</a> *&nbsp;</td>
          <td class="paramname"> <em>pX509Info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPCSTR&nbsp;</td>
          <td class="paramname"> <em>szBuff</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
証明書の格納を行います。 
<p>
X509_NAME_onelineで取得した情報を構造体に格納します。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pX509Info</em>&nbsp;</td><td>_X509Info構造体のポインタ </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>szBuff</em>&nbsp;</td><td>_PushCertificateで分割した文字列</td></tr>
  </table>
</dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000004">TODO:</a></b></dt><dd>メソッドの実装が曖昧 </dd></dl>

</div>
</div><p>
<hr><h2>フレンドと関連する関数</h2>
<a class="anchor" name="5ea6116f95e28807a8ab0ada5b57ea7d"></a><!-- doxytag: member="cSslSock::cSslServerSock" ref="5ea6116f95e28807a8ab0ada5b57ea7d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classc_ssl_server_sock.html">cSslServerSock</a><code> [friend]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>変数</h2>
<a class="anchor" name="ecb8a866018f99cb95096d99011993bd"></a><!-- doxytag: member="cSslSock::m_CTX" ref="ecb8a866018f99cb95096d99011993bd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SSL_CTX* <a class="el" href="classc_ssl_sock.html#ecb8a866018f99cb95096d99011993bd">cSslSock::m_CTX</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
CTX構造体 
<p>

</div>
</div><p>
<a class="anchor" name="c2e137966b22461baa4876a3bd59ae11"></a><!-- doxytag: member="cSslSock::m_SSL" ref="c2e137966b22461baa4876a3bd59ae11" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SSL* <a class="el" href="classc_ssl_sock.html#c2e137966b22461baa4876a3bd59ae11">cSslSock::m_SSL</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
SSL構造体 
<p>

</div>
</div><p>
<hr>このクラスの説明は次のファイルから生成されました:<ul>
<li><a class="el" href="c_ssl_sock_8h.html">cSslSock.h</a><li><a class="el" href="c_ssl_sock_8cpp.html">cSslSock.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>cSockに対してThu Mar 1 18:22:34 2007に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-p1 </small></address>
</body>
</html>
